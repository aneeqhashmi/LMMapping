<div class="container-fluid">

  <h1>Employees</h1>

  <div class="container-fluid">
    <a routerLink="/add-employee">Add new employee</a>
    <div style="float:right">
      <input type="text" placeholder="Search" class="form-control" 
        (input)="FilterList($event.target.value)">
      <input id="chkUnassigned" type="checkbox" [(ngModel)]="LM_flag" (change)="GetUnAssignedList(LM_flag)" />
      <label for="chkUnassigned" style="padding-left:5px;">View unassigned only</label>
    </div>
  </div>
  <div class="container-fluid nodisplay">
    <input type="file" style="width:25%;" class="pull-left" (change)="onFileChange($event)" 
      multiple="false" accept=".xlsx" />
    <button type="submit" class="btn btn-success" *ngIf="data != null" (click)="ImportData()">Import</button>
  </div>
<br>
  <div class="container" style="padding-top:20px;">   
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th style="width:7%">Emp ID</th>
          <th>Full name</th>
          <th>Email</th>
          <th>Designation</th>
          <!-- <th>Gender</th> -->
          <th>Line Manager</th>
          <th colspan="3"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let employee of employees | async">
          <td>{{ employee.payload.val().EmpID }}</td>
          <td><a routerLink="/employees/{{employee.key}}">{{ employee.payload.val().FullName }}</a></td>
          <td>{{ employee.payload.val().Email }}</td>
          <td>{{employee.payload.val().DesignationValue}}</td>
          <!-- <td>{{employee.payload.val().Gender}}</td> -->
          <td><a routerLink="/employees/{{employee.payload.val().LineManagerID}}">{{employee.payload.val().LineManagerValue}}</a></td>
          <td>
            <a routerLink="/add-employee/{{employee.key}}">Edit</a>
          </td>
          <td>
            <a href="javascript:void(0)" (click)="RemoveEmployee(employee.key, employee.payload.val().LineManagerID || '0')">Delete</a>
          </td>
          <td> 
            <a href="javascript:void(0)" (click)="MarkUnmarkLM(employee.key, employee.payload.val().IsLineManager)">
              {{employee.payload.val().IsLineManager ? 'Remove as LM' : 'Mark as LM'}}
            </a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>